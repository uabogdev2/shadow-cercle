/* ============================================
   ANIMATIONS GLOBALES - "ÉCLIPSE & CRISTAL"
   Optimisées pour GPU (transform, opacity)
   ============================================ */

/* ============================================
   ANIMATIONS D'ENTRÉE (Entrance)
   ============================================ */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translate3d(0, -20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translate3d(100px, 0, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translate3d(-100px, 0, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale3d(0.8, 0.8, 1);
  }
  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

@keyframes scaleInSpring {
  0% {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 1);
  }
  50% {
    opacity: 1;
    transform: scale3d(1.05, 1.05, 1);
  }
  100% {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

/* ============================================
   ANIMATIONS DE SORTIE (Exit)
   ============================================ */

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes fadeOutDown {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
  to {
    opacity: 0;
    transform: translate3d(0, 20px, 0);
  }
}

@keyframes fadeOutUp {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
  to {
    opacity: 0;
    transform: translate3d(0, -20px, 0);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
  to {
    opacity: 0;
    transform: scale3d(0.8, 0.8, 1);
  }
}

/* ============================================
   ANIMATIONS DE PHASE (Jour/Nuit)
   ============================================ */

/* Transition Nuit → Jour : Soleil qui se lève */
@keyframes sunRise {
  0% {
    opacity: 0;
    transform: translate3d(0, 100vh, 0) scale3d(0.5, 0.5, 1);
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
}

/* Transition Jour → Nuit : Lune qui monte */
@keyframes moonRise {
  0% {
    opacity: 0;
    transform: translate3d(0, 100vh, 0) scale3d(0.5, 0.5, 1);
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
}

/* ============================================
   ANIMATIONS INTERACTIVES
   ============================================ */

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
  50% {
    opacity: 0.9;
    transform: scale3d(1.05, 1.05, 1);
  }
}

@keyframes pulseStrong {
  0%, 100% {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
  50% {
    opacity: 0.7;
    transform: scale3d(1.1, 1.1, 1);
  }
}

@keyframes shake {
  0%, 100% {
    transform: translate3d(0, 0, 0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translate3d(-5px, 0, 0);
  }
  20%, 40%, 60%, 80% {
    transform: translate3d(5px, 0, 0);
  }
}

@keyframes bounce {
  0%, 100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -15px, 0);
  }
}

/* ============================================
   EFFETS DE GLOW
   ============================================ */

@keyframes glow {
  0%, 100% {
    opacity: 1;
    filter: drop-shadow(0 0 5px rgba(59, 130, 246, 0.5));
  }
  50% {
    opacity: 1;
    filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.8)) drop-shadow(0 0 30px rgba(59, 130, 246, 0.6));
  }
}

@keyframes glowSoftGold {
  0%, 100% {
    box-shadow: 0 0 10px rgba(245, 158, 11, 0.3);
  }
  50% {
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.6), 0 0 40px rgba(245, 158, 11, 0.4);
  }
}

@keyframes glowElectricViolet {
  0%, 100% {
    box-shadow: 0 0 10px rgba(124, 58, 237, 0.3);
  }
  50% {
    box-shadow: 0 0 30px rgba(124, 58, 237, 0.6), 0 0 50px rgba(124, 58, 237, 0.4);
  }
}

@keyframes glowBloodRed {
  0%, 100% {
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
  }
  50% {
    box-shadow: 0 0 25px rgba(239, 68, 68, 0.6), 0 0 40px rgba(239, 68, 68, 0.4);
  }
}

@keyframes glowNeonCyan {
  0%, 100% {
    box-shadow: 0 0 10px rgba(34, 211, 238, 0.3);
  }
  50% {
    box-shadow: 0 0 25px rgba(34, 211, 238, 0.6), 0 0 40px rgba(34, 211, 238, 0.4);
  }
}

/* ============================================
   ANIMATIONS DE PARTICULES & EFFETS SPÉCIAUX
   ============================================ */

/* Particules flottantes */
@keyframes float {
  0%, 100% {
    transform: translate3d(0, 0, 0);
    opacity: 0.3;
  }
  50% {
    transform: translate3d(0, -20px, 0);
    opacity: 0.7;
  }
}

/* Lucioles animées (pour la nuit) */
@keyframes fireflyFloat {
  0%, 100% {
    transform: translate3d(0, 0, 0);
    opacity: 0.8;
  }
  25% {
    transform: translate3d(10px, -15px, 0);
    opacity: 1;
  }
  50% {
    transform: translate3d(-5px, -25px, 0);
    opacity: 0.6;
  }
  75% {
    transform: translate3d(-10px, -15px, 0);
    opacity: 0.9;
  }
}

/* Brume/brouillard qui dérive */
@keyframes fogDrift {
  0% {
    transform: translate3d(-100%, 0, 0);
    opacity: 0.2;
  }
  50% {
    opacity: 0.4;
  }
  100% {
    transform: translate3d(100%, 0, 0);
    opacity: 0.2;
  }
}

/* Confettis dorés (victoire village) */
@keyframes confettiFall {
  0% {
    transform: translate3d(0, -100vh, 0) rotate3d(0, 0, 1, 0deg);
    opacity: 1;
  }
  100% {
    transform: translate3d(var(--confetti-x, 0), 100vh, 0) rotate3d(0, 0, 1, 720deg);
    opacity: 0;
  }
}

/* Griffures animées (victoire loups) */
@keyframes scratchDraw {
  0% {
    stroke-dashoffset: 1000;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 0.8;
  }
}

/* ============================================
   ANIMATIONS UTILITAIRES
   ============================================ */

@keyframes rotate {
  from {
    transform: rotate3d(0, 0, 1, 0deg);
  }
  to {
    transform: rotate3d(0, 0, 1, 360deg);
  }
}

@keyframes spin {
  to {
    transform: rotate3d(0, 0, 1, 360deg);
  }
}

/* Flip 3D (pour cartes) */
@keyframes flip3D {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(180deg);
  }
}

/* Flicker (pour spotlight) */
@keyframes flicker {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
  25%, 75% {
    opacity: 0.9;
  }
}

/* ============================================
   CLASSES UTILITAIRES D'ANIMATION
   ============================================ */

/* Entrées */
.animate-fade-in {
  animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-in-down {
  animation: fadeInDown 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-slide-in-right {
  animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-slide-in-left {
  animation: slideInLeft 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-scale-in {
  animation: scaleIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-scale-in-spring {
  animation: scaleInSpring 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Sorties */
.animate-fade-out {
  animation: fadeOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-out-down {
  animation: fadeOutDown 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-out-up {
  animation: fadeOutUp 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-scale-out {
  animation: scaleOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Phases */
.animate-sun-rise {
  animation: sunRise 3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-moon-rise {
  animation: moonRise 3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Interactives */
.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-pulse-strong {
  animation: pulseStrong 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-shake {
  animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) forwards;
}

.animate-bounce {
  animation: bounce 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Glow */
.animate-glow {
  animation: glow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-glow-soft-gold {
  animation: glowSoftGold 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-glow-electric-violet {
  animation: glowElectricViolet 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-glow-blood-red {
  animation: glowBloodRed 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-glow-neon-cyan {
  animation: glowNeonCyan 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Particules */
.animate-float {
  animation: float 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-firefly {
  animation: fireflyFloat 20s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-fog-drift {
  animation: fogDrift 40s linear infinite;
}

.animate-confetti {
  animation: confettiFall var(--confetti-duration, 3s) linear forwards;
}

.animate-scratch {
  animation: scratchDraw 2s cubic-bezier(0.4, 0, 0.6, 1) forwards;
}

/* Utilitaires */
.animate-rotate {
  animation: rotate 2s linear infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-flip-3d {
  animation: flip3D 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-flicker {
  animation: flicker 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ============================================
   TRANSITIONS FLUIDES
   ============================================ */

.transition-smooth {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-fast {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-slow {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   EFFETS HOVER AMÉLIORÉS
   ============================================ */

.hover-lift {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translate3d(0, -5px, 0);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.hover-glow {
  transition: box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-glow:hover {
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
}

/* ============================================
   LOADING SPINNER
   ============================================ */

.spinner {
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid var(--color-text-light);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

/* ============================================
   ACCESSIBILITÉ - Prefers Reduced Motion
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
